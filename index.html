<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tareas del Hogar - Interactivo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e6f7ff;
      margin: 20px;
    }
    h1 {
      text-align: center;
      color: #003366;
    }
    .subtitulo {
      text-align: center;
      color: #666;
      margin-top: -10px;
      margin-bottom: 20px;
    }
    .categoria {
      background: white;
      border-radius: 12px;
      padding: 15px;
      margin: 15px auto;
      max-width: 500px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .categoria h2 {
      text-align: center;
      color: #0059b3;
      margin-bottom: 10px;
    }
    .tarea {
      background: #a6d9ff;
      padding: 10px;
      margin: 8px 0;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .tarea.completada {
      background-color: #4caf50;
      color: white;
      text-decoration: line-through;
    }
    .encargado {
      font-size: 0.9em;
      color: #003366;
    }
  </style>
</head>
<body>

  <h1>Malla de Tareas del Hogar</h1>
  <p class="subtitulo">Mostrando solo tareas para hoy: <span id="dia"></span></p>

  <div id="contenedorTareas"></div>

  <script>
    const hoy = new Date();
    const diaSemana = hoy.getDay(); // 0: domingo, 1: lunes, ..., 6: sábado
    const nombresDias = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
    document.getElementById("dia").textContent = nombresDias[diaSemana];

    const tareasPorDia = {
      0: ['Descolgar Ropa', 'Doblar Ropa'],                        // Domingo
      1: ['Lavar y colgar ropa'],                                 // Lunes
      2: ['Descolgar Ropa'],                                      // Martes
      3: ['Lavar y colgar ropa', 'Doblar Ropa'],                 // Miércoles
      4: ['Descolgar Ropa'],                                      // Jueves
      5: ['Doblar Ropa'],                                         // Viernes
      6: ['Lavar y colgar ropa', 'Limpiar arenero', 'Intervención pieza'] // Sábado
    };

    const tareas = {
      "Cocina": [
        { nombre: "Lavar Loza", encargado: "Felix", diaria: true },
        { nombre: "Guardar Loza", encargado: "Felix", diaria: true },
        { nombre: "Limpiar cocina", encargado: "Ivi", diaria: true },
        { nombre: "Limpiar lava platos", encargado: "Ivi", diaria: true },
        { nombre: "Limpiar muebles Cocina", encargado: "Ivi", diaria: true }
      ],
      "Baño": [
        { nombre: "Limpiar ducha", encargado: "Cony", diaria: true },
        { nombre: "Limpiar lava manos", encargado: "Cony", diaria: true },
        { nombre: "Limpiar water", encargado: "Cony", diaria: true }
      ],
      "Ropa": [
        { nombre: "Lavar y colgar ropa", encargado: "Ivi", diaria: false },
        { nombre: "Descolgar Ropa", encargado: "Cony", diaria: false },
        { nombre: "Doblar Ropa", encargado: "Ivi", diaria: false },
        { nombre: "Guardar Ropa", encargado: "Cada uno", diaria: true }
      ],
      "Mascotas": [
        { nombre: "Dar de comer perros", encargado: "Felix", diaria: true },
        { nombre: "Limpiar arenero", encargado: "Felix", diaria: false }
      ],
      "Espacios Comunes": [
        { nombre: "Trapear la casa", encargado: "Felix", diaria: true },
        { nombre: "Ordenar living comedor", encargado: "Cony", diaria: true },
        { nombre: "Intervención pieza", encargado: "Todos (Sábado)", diaria: false }
      ]
    };

    function crearTareasDelDia() {
      const contenedor = document.getElementById("contenedorTareas");
      const tareasDelDia = tareasPorDia[diaSemana] || [];

      for (const [categoria, lista] of Object.entries(tareas)) {
        const listaFiltrada = lista.filter(t => t.diaria || tareasDelDia.includes(t.nombre));
        if (listaFiltrada.length === 0) continue;

        const divCategoria = document.createElement("div");
        divCategoria.className = "categoria";

        const titulo = document.createElement("h2");
        titulo.textContent = categoria;
        divCategoria.appendChild(titulo);

        listaFiltrada.forEach(tarea => {
          const divTarea = document.createElement("div");
          divTarea.className = "tarea";
          divTarea.innerHTML = `<strong>${tarea.nombre}</strong><br><span class="encargado">Encargado: ${tarea.encargado}</span>`;
          divTarea.addEventListener("click", () => {
            divTarea.classList.toggle("completada");
          });
          divCategoria.appendChild(divTarea);
        });

        contenedor.appendChild(divCategoria);
      }
    }

    crearTareasDelDia();
  </script>

</body>
</html>
